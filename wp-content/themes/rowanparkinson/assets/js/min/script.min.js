!function(e){var t,n,a,i,o=(Backbone.Model,Backbone.View);t=o.extend({el:".home-post",events:{},initialize:function(){this.$el.each(function(t,n){e(n).css({opacity:0}),setTimeout(function(){e(n).addClass("fadeInUpBig")},25+200*t)})},hoverPostOn:function(t){var n=e(t.currentTarget);TweenMax.to(n.find(".post-bg"),30,{scale:1.5,ease:Linear.easeNone})},hoverPostOff:function(t){var n=e(t.currentTarget);TweenMax.to(n.find(".post-bg"),2,{scale:1,ease:Cubic.easeInOut})}}),OpenPosts=o.extend({el:".home-list",events:{"click a":"openPostsPage"},openPostsPage:function(t){{var n=e(t.currentTarget).attr("href");n.replace(Site.basePath+"/","")}return this.expandPost(),!1},expandPost:function(){this.parent("li").addClass("open-post"),this.showContent()},showContent:function(){}}),SiteContent=o.extend({el:".site-main",initialize:function(){this.homePostLoad=new t,this.openPosts=new OpenPosts,this.render()}}),n=o.extend({el:"body",events:{"click .posts a":"postClickHandler","click a.handle":"showMenu","click .site-main":"hideMenu"},initialize:function(){window.app=this,this.siteContent=new SiteContent},postClickHandler:function(t){var n=e(t.currentTarget).attr("href"),a=(n.replace(Site.basePath+"/",""),e(t.currentTarget).parent("li"));if(t.preventDefault(),a.addClass("open").siblings("li").removeClass("active height width fadeInUpBig fadeOutDownBig").addClass("fadeOutDownBig"),a.index()>=3){{a.prev("li")}setTimeout(function(){a.siblings("li").addClass("height")},300),setTimeout(function(){a.addClass("active").siblings("li").addClass("width")},800)}else setTimeout(function(){a.addClass("active").siblings("li").addClass("width")},400);return!1},showMenu:function(t){t.preventDefault();var n=e(t.target);n.toggleClass("active"),e("#site-navigation").toggleClass("open")},hideMenu:function(){e(".handle").removeClass("active"),e("#site-navigation").removeClass("open")},showHomePage:function(){var t=Site.basePath+"/",n=e("<div>");console.log("home"),this.$el.attr("class","home"),n.load(t,function(t){e(t).find(".site-content").children()})},showAboutPage:function(){{var t=Site.basePath+"/"+id;e("<div>")}console.log(t),this.$el.attr("class",id)},showContactPage:function(){{var t=Site.basePath+"/"+id;e("<div>")}console.log(t),this.$el.attr("class",id)}}),i=Backbone.Router.extend({routes:{"(/)":"home","about(/)":"aboutPage","contact(/)":"contactPage"},home:function(){a.showHomePage()},aboutPage:function(e){a.showAboutPage(e)},contactPage:function(e){a.showContactPage(e)}}),e(document).ready(function(){a=new n,a.render(),Backbone.history.start({pushState:!0,root:"/"})})}(jQuery);