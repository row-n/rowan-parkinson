!function(e){var t,o,n,s,i=(Backbone.Model,Backbone.View);t=i.extend({el:".home-post",initialize:function(){this.$el.each(function(t,o){e(o).css({opacity:0}),setTimeout(function(){e(o).addClass("fadeInUp")},500+500*t)})}}),OpenPosts=i.extend({el:".home-list",events:{"click a":"openPostsPage"},openPostsPage:function(t){var o=e(t.currentTarget).attr("href"),s=o.replace(Site.basePath+"/","");return n.router.navigate(s,!0),!1},setState:function(e){console.log(e),e?(this.$(".home-post").removeClass("active").addClass("inactive"),this.$(".home-post."+e+"-nav").removeClass("inactive").addClass("active")):this.$(".home-post").removeClass("active inactive")}}),SiteContent=i.extend({el:".site-main",initialize:function(){this.homePostLoad=new t,this.openPosts=new OpenPosts,this.render()}}),o=i.extend({el:"body",events:{},initialize:function(){window.app=this,this.siteContent=new SiteContent,this.router=new s},showHomePage:function(){var t=this,o=Site.basePath+"/",n=e("<div>");console.log("home"),this.$el.attr("class","home"),this.openPosts.setState(!1),n.load(o,function(o){var n=e(o).find(".site-content").children();t.$(".site-content").html(n)})},showPostsPage:function(t){var o=Site.basePath+"/"+t,n=e("<div>");console.log(o),this.$el.attr("class",t),this.openPosts.setState(t),n.load(o,function(t){e(t).find(".post-content").children()})}}),s=Backbone.Router.extend({routes:{"(/)":"home",":id(/)":"postsPage"},home:function(){n.showHomePage()},postsPage:function(e){n.showPostsPage(e)}}),e(document).ready(function(){n=new o,n.render(),Backbone.history.start({pushState:!0,root:"/"})})}(jQuery);